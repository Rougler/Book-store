<!DOCTYPE html>

<html class="light" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Bookstore - Fantasy Books</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<script>
        tailwind.config = { darkMode: "class", theme: { extend: { colors: { "primary": "#1d3557", "background-light": "#f9f9f9", "background-dark": "#101622", "accent": "#e63946", "text-light": "#333333", "text-dark": "#e0e0e0" }, fontFamily: { "display": ["Inter", "sans-serif"] }, borderRadius: { "DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px" } } } }
    </script>
<style>
        .material-symbols-outlined { font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24; }
    </style>
</head>
<body class="font-display bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark">
<div class="relative flex min-h-screen w-full flex-col">
<!-- TopNavBar -->
<header class="sticky top-0 z-10 w-full border-b border-gray-200/80 dark:border-gray-700/80 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm">
<div class="container mx-auto flex items-center justify-between whitespace-nowrap px-4 py-3">
<div class="flex items-center gap-8">
<div class="flex items-center gap-3">
<span class="material-symbols-outlined text-primary text-3xl">import_contacts</span>
<h2 class="text-text-light dark:text-text-dark text-xl font-bold">Bookstore</h2>
</div>
<nav class="hidden md:flex items-center gap-8">
<a class="text-text-light dark:text-text-dark text-sm font-medium hover:text-primary dark:hover:text-primary" href="{{ url_for('home') }}">Home</a>
<a class="text-primary dark:text-primary text-sm font-bold" href="{{ url_for('browse') }}">Categories</a>
<a class="text-text-light dark:text-text-dark text-sm font-medium hover:text-primary dark:hover:text-primary" href="{{ url_for('browse') }}">New Releases</a>
</nav>
</div>
<div class="flex flex-1 items-center justify-end gap-4">
<label class="hidden sm:flex flex-col min-w-40 !h-10 max-w-64">
<div class="flex w-full flex-1 items-stretch rounded-lg h-full">
<div class="text-gray-500 dark:text-gray-400 flex border-none bg-gray-200/60 dark:bg-gray-800/60 items-center justify-center pl-3 rounded-l-lg border-r-0">
<span class="material-symbols-outlined text-lg">search</span>
</div>
<input class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-text-light dark:text-text-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border-none bg-gray-200/60 dark:bg-gray-800/60 focus:border-none h-full placeholder:text-gray-500 dark:placeholder:text-gray-400 px-4 rounded-l-none border-l-0 pl-2 text-sm font-normal" placeholder="Search books..." value=""/>
</div>
</label>
<div class="flex gap-2">
<a href="{{ url_for('cart') }}" class="relative flex h-10 w-10 cursor-pointer items-center justify-center overflow-hidden rounded-lg bg-gray-200/60 dark:bg-gray-800/60 text-text-light dark:text-text-dark hover:bg-gray-300/60 dark:hover:bg-gray-700/60">
<span class="material-symbols-outlined text-xl">shopping_cart</span>
{% if cart_quantity %}<span class="absolute top-1 right-1 flex h-4 w-4 items-center justify-center rounded-full bg-accent text-white text-xs font-bold">{{ cart_quantity }}</span>{% endif %}
</a>
</div>
<div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10" data-alt="User profile picture" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuC5WYuD-DmCrvEsINK8f7HDsvUNY8EhUJ4fZHaLlvHq_0euoARtjctvCKG0wSMMTwe28KyFXey5hF7KeVlru8sFDBjrjNcTXa1Svi4Q9dQbUr4skiQ-Lo18LrSd0CNz56T7RSwxf6D3kLG7U5APIeqpV_b-DS7fUnZ6p-65vBTq_C_5xAnZi2H0Vtk17RR50nmcn7D9_Y4ag2gzvDxcBcWM6voRESAJdEXkrPVS_RZfEDMWg66EkZWQ1Rhku7tgR52D9ZP42HRIuew8");'></div>
</div>
</div>
</header>
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="fixed top-20 right-4 z-50 space-y-2">
      {% for category, message in messages %}
        <div class="px-4 py-3 rounded-lg shadow-lg {% if category == 'error' %}bg-red-500{% else %}bg-green-500{% endif %} text-white">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}
<!-- Main Content -->
<main class="container mx-auto flex flex-1 px-4 py-8">
<div class="flex w-full flex-col gap-8 lg:flex-row">
<!-- Left Sidebar (Filtering Panel) -->
<aside class="w-full lg:w-64 xl:w-72 flex-shrink-0">
<div class="sticky top-24 space-y-6">
<h3 class="text-lg font-bold">Filters</h3>
<!-- Category Filter -->
<div class="space-y-3">
<h4 class="font-semibold text-text-light dark:text-text-dark">Category</h4>
<ul class="space-y-2 text-sm">
<li><label class="flex items-center gap-2 cursor-pointer"><input class="h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary/50 bg-transparent" type="checkbox"/> All Fiction</label></li>
<li><label class="flex items-center gap-2 cursor-pointer"><input checked class="h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary/50 bg-transparent" type="checkbox"/> Fantasy</label></li>
<li><label class="flex items-center gap-2 cursor-pointer"><input class="h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary/50 bg-transparent" type="checkbox"/> Science Fiction</label></li>
<li><label class="flex items-center gap-2 cursor-pointer"><input class="h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary/50 bg-transparent" type="checkbox"/> Mystery</label></li>
</ul>
</div>
<!-- Price Range Filter -->
<div class="space-y-3">
<h4 class="font-semibold text-text-light dark:text-text-dark">Price Range</h4>
<div class="relative h-1 w-full rounded-full bg-gray-200 dark:bg-gray-700">
<div class="absolute h-1 rounded-full bg-primary" style="left: 10%; width: 60%;"></div>
<div class="absolute -top-1.5 h-4 w-4 rounded-full bg-white dark:bg-gray-300 border-2 border-primary cursor-pointer" style="left: 10%;"></div>
<div class="absolute -top-1.5 h-4 w-4 rounded-full bg-white dark:bg-gray-300 border-2 border-primary cursor-pointer" style="left: 70%;"></div>
</div>
<div class="flex justify-between text-sm">
<span>$10</span>
<span>$70</span>
</div>
</div>
<!-- Rating Filter -->
<div class="space-y-3">
<h4 class="font-semibold text-text-light dark:text-text-dark">Rating</h4>
<div class="flex flex-col items-start gap-2">
<button class="flex items-center gap-1 text-sm text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary">
<div class="flex text-yellow-500"><span class="material-symbols-outlined text-base">star</span><span class="material-symbols-outlined text-base">star</span><span class="material-symbols-outlined text-base">star</span><span class="material-symbols-outlined text-base">star</span><span class="material-symbols-outlined text-base">star</span></div>
</button>
<button class="flex items-center gap-1 text-sm text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary">
<div class="flex text-yellow-500"><span class="material-symbols-outlined text-base">star</span><span class="material-symbols-outlined text-base">star</span><span class="material-symbols-outlined text-base">star</span><span class="material-symbols-outlined text-base">star</span><span class="material-symbols-outlined text-base text-gray-300 dark:text-gray-600">star</span></div> & Up
                                </button>
<button class="flex items-center gap-1 text-sm text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary">
<div class="flex text-yellow-500"><span class="material-symbols-outlined text-base">star</span><span class="material-symbols-outlined text-base">star</span><span class="material-symbols-outlined text-base">star</span><span class="material-symbols-outlined text-base text-gray-300 dark:text-gray-600">star</span><span class="material-symbols-outlined text-base text-gray-300 dark:text-gray-600">star</span></div> & Up
                                </button>
</div>
</div>
<!-- Format Filter -->
<div class="space-y-3">
<h4 class="font-semibold text-text-light dark:text-text-dark">Format</h4>
<ul class="space-y-2 text-sm">
<li><label class="flex items-center gap-2 cursor-pointer"><input class="h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary/50 bg-transparent" type="checkbox"/> Hardcover</label></li>
<li><label class="flex items-center gap-2 cursor-pointer"><input class="h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary/50 bg-transparent" type="checkbox"/> Paperback</label></li>
<li><label class="flex items-center gap-2 cursor-pointer"><input class="h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary/50 bg-transparent" type="checkbox"/> E-book</label></li>
</ul>
</div>
<!-- Action Buttons -->
<div class="flex flex-col gap-2 pt-4">
<button class="flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-primary text-white text-sm font-bold">Apply Filters</button>
<button class="flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 text-sm font-bold">Clear All</button>
</div>
</div>
</aside>
<!-- Product Listing -->
<div class="flex-1">
<div class="flex flex-col gap-6">
<!-- Header Section -->
<div class="space-y-4">
<!-- Breadcrumbs -->
<div class="flex flex-wrap items-center gap-2">
<a class="text-gray-600 dark:text-gray-400 text-sm font-medium hover:text-primary" href="{{ url_for('home') }}">Home</a>
<span class="text-gray-400 dark:text-gray-500 text-sm">/</span>
<a class="text-gray-600 dark:text-gray-400 text-sm font-medium hover:text-primary" href="{{ url_for('browse') }}">Fiction</a>
<span class="text-gray-400 dark:text-gray-500 text-sm">/</span>
<span class="text-text-light dark:text-text-dark text-sm font-medium">Fantasy</span>
</div>
<!-- Page Heading -->
<h1 class="text-text-light dark:text-text-dark text-4xl font-black tracking-tight">Fantasy Books</h1>
</div>
<!-- Toolbar -->
<div class="flex flex-wrap items-center justify-between gap-4 rounded-xl bg-gray-100 dark:bg-gray-800/50 p-3">
<p class="text-sm text-gray-600 dark:text-gray-400">Showing 1-{{ books|length }} of {{ books|length }} results</p>
<div class="flex items-center gap-4">
<!-- Chips/Sort -->
<button class="flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-white dark:bg-gray-900/80 px-4">
<p class="text-text-light dark:text-text-dark text-sm font-medium">Sort by: Relevance</p>
<span class="material-symbols-outlined text-lg">expand_more</span>
</button>
<!-- View Toggle -->
<div class="flex gap-1 rounded-lg bg-white dark:bg-gray-900/80 p-1">
<button class="p-1.5 rounded-md text-white bg-primary">
<span class="material-symbols-outlined text-lg">grid_view</span>
</button>
<button class="p-1.5 rounded-md text-text-light dark:text-text-dark hover:bg-gray-100 dark:hover:bg-gray-700">
<span class="material-symbols-outlined text-lg">view_list</span>
</button>
</div>
</div>
</div>
<!-- Product Grid -->
<div class="grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
{% for b in books %}
<div class="group relative flex flex-col overflow-hidden rounded-xl bg-white dark:bg-gray-800/50 shadow-sm transition-shadow duration-300 hover:shadow-lg">
<div class="aspect-[2/3] w-full">
<img class="h-full w-full object-cover" src="{{ b['image_url'] }}" alt="{{ b['title'] }} cover"/>
</div>
<div class="flex flex-1 flex-col p-4">
<h3 class="font-bold text-base text-text-light dark:text-text-dark flex-1">{{ b['title'] }}</h3>
<p class="text-sm text-gray-500 dark:text-gray-400">{{ b['author'] }}</p>
<div class="flex items-center mt-2 gap-1">
<div class="flex text-yellow-500"><span class="material-symbols-outlined text-base">star</span><span class="material-symbols-outlined text-base">star</span><span class="material-symbols-outlined text-base">star</span><span class="material-symbols-outlined text-base">star</span><span class="material-symbols-outlined text-base text-gray-300 dark:text-gray-600">star</span></div>
<span class="text-xs text-gray-500 dark:text-gray-400">(1,000+)</span>
 </div>
<p class="mt-2 text-lg font-bold text-text-light dark:text-text-dark">${{ '%.2f'|format(b['price']) }}</p>
</div>
<form method="post" action="{{ url_for('add_to_cart') }}" class="absolute bottom-4 right-4">
<input type="hidden" name="book_id" value="{{ b['id'] }}" />
<button class="flex h-12 w-12 translate-y-4 items-center justify-center rounded-full bg-primary text-white opacity-0 shadow-lg transition-all duration-300 group-hover:translate-y-0 group-hover:opacity-100">
<span class="material-symbols-outlined">add_shopping_cart</span>
</button>
</form>
</div>
{% endfor %}
</div>
<!-- Pagination -->
<div class="flex items-center justify-center pt-8">
<nav aria-label="Pagination" class="flex items-center gap-2">
<button class="flex h-9 w-9 items-center justify-center rounded-lg bg-gray-200/80 dark:bg-gray-800/80 text-gray-500 dark:text-gray-400">
<span class="material-symbols-outlined text-xl">chevron_left</span>
</button>
<a class="flex h-9 w-9 items-center justify-center rounded-lg bg-primary text-white text-sm font-bold" href="#">1</a>
<a class="flex h-9 w-9 items-center justify-center rounded-lg bg-gray-200/80 dark:bg-gray-800/80 text-sm font-medium" href="#">2</a>
<a class="flex h-9 w-9 items-center justify-center rounded-lg bg-gray-200/80 dark:bg-gray-800/80 text-sm font-medium" href="#">3</a>
<span class="flex h-9 w-9 items-center justify-center text-sm font-medium">...</span>
<a class="flex h-9 w-9 items-center justify-center rounded-lg bg-gray-200/80 dark:bg-gray-800/80 text-sm font-medium" href="#">11</a>
<button class="flex h-9 w-9 items-center justify-center rounded-lg bg-gray-200/80 dark:bg-gray-800/80 text-gray-500 dark:text-gray-400">
<span class="material-symbols-outlined text-xl">chevron_right</span>
</button>
</nav>
</div>
</div>
</div>
</div>
</main>
</div>
</body></html>


